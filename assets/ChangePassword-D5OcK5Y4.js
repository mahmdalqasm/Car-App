import{d as _,r as w,a as f,_ as v,o as b,c as g,b as a,w as n,h as m,f as o,t as y,e as p,v as u,g as V,i as C,j as c,k as P}from"./index-ZrjpF2re.js";const x=_("change-password",()=>{const t=w({}),r=f(""),d=f(!1),s=w({current_password:"",password:"",password_confirmation:""});function i(){s.current_password="",s.password="",s.password_confirmation="",t.value={},r.value=""}async function l(){return d.value=!0,t.value={},r.value="",window.axios.put("password",s).then(()=>{r.value="Password has been updated."}).catch(e=>{e.response.status===422&&(t.value=e.response.data.errors)}).finally(()=>{s.current_password="",s.password="",s.password_confirmation="",d.value=!1})}return{form:s,loading:d,errors:t,resetForm:i,status:r,updatePassword:l}}),S={class:"form-wrapper"},U={class:"form-group"},B=["disabled"],N={class:"form-group"},k=["disabled"],q={class:"form-group"},E=["disabled"],I=["disabled"],h={__name:"ChangePassword",setup(t){const r=x();return b(r.resetForm),(d,s)=>{const i=c("ValidationError"),l=c("IconSpinner");return P(),g("form",{onSubmit:s[3]||(s[3]=C((...e)=>o(r).updatePassword&&o(r).updatePassword(...e),["prevent"])),class:"form-container"},[a("div",S,[s[8]||(s[8]=a("h1",{class:"form-title"},"Change password",-1)),n(a("div",{class:"alert alert-success"},y(o(r).status),513),[[m,o(r).status]]),a("div",U,[s[4]||(s[4]=a("label",{for:"current_password",class:"required"},"Current password",-1)),n(a("input",{type:"password",name:"current_password",id:"current_password",class:"form-input","onUpdate:modelValue":s[0]||(s[0]=e=>o(r).form.current_password=e),disabled:o(r).loading},null,8,B),[[u,o(r).form.current_password]]),p(i,{errors:o(r).errors,field:"current_password"},null,8,["errors"])]),a("div",N,[s[5]||(s[5]=a("label",{for:"password",class:"required"},"New password",-1)),n(a("input",{type:"password",name:"password",id:"password",class:"form-input","onUpdate:modelValue":s[1]||(s[1]=e=>o(r).form.password=e),disabled:o(r).loading},null,8,k),[[u,o(r).form.password]]),p(i,{errors:o(r).errors,field:"password"},null,8,["errors"])]),a("div",q,[s[6]||(s[6]=a("label",{for:"password_confirmation",class:"required"}," Confirm new password ",-1)),n(a("input",{type:"password",name:"password_confirmation",id:"password_confirmation",class:"form-input","onUpdate:modelValue":s[2]||(s[2]=e=>o(r).form.password_confirmation=e),disabled:o(r).loading},null,8,E),[[u,o(r).form.password_confirmation]])]),s[9]||(s[9]=a("div",{class:"form-separator"},null,-1)),a("button",{type:"submit",class:"btn btn-primary",disabled:o(r).loading},[n(p(l,{class:"spinner"},null,512),[[m,o(r).loading]]),s[7]||(s[7]=V(" Update password "))],8,I)])],32)}}},F=v(h,[["__scopeId","data-v-159d3901"]]);export{F as default};
