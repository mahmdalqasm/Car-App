import{d as _,r as f,a as p,_ as w,m as g,o as V,c as x,b as s,w as d,h as c,f as o,t as y,e as u,v,g as E,i as P,j as b,k as S}from"./index-ZrjpF2re.js";const B=_("profile",()=>{const n=f({}),a=p(""),i=p(!1),e=f({name:"",email:""});function l(){e.name="",e.email="",n.value={},a.value=""}async function m(){return window.axios.get("profile").then(t=>{e.name=t.data.name,e.email=t.data.email})}async function r(){return i.value=!0,n.value={},a.value="",window.axios.put("profile",e).then(t=>{e.name=t.data.name,e.email=t.data.email,a.value="Profile has been updated."}).catch(t=>{t.response.status===422&&(n.value=t.response.data.errors)}).finally(()=>{i.value=!1})}return{form:e,loading:i,errors:n,resetForm:l,status:a,fetchProfile:m,updateProfile:r}}),N={class:"form-wrapper"},U={class:"form-group"},k=["disabled"],I={class:"form-group"},M=["disabled"],h=["disabled"],q={__name:"EditView",setup(n){const a=B();return g(a.fetchProfile),V(a.resetForm),(i,e)=>{const l=b("ValidationError"),m=b("IconSpinner");return S(),x("form",{onSubmit:e[2]||(e[2]=P((...r)=>o(a).updateProfile&&o(a).updateProfile(...r),["prevent"])),class:"form-container"},[s("div",N,[e[6]||(e[6]=s("h1",{class:"form-title"},"Edit profile",-1)),d(s("div",{class:"alert alert-success"},y(o(a).status),513),[[c,o(a).status]]),s("div",U,[e[3]||(e[3]=s("label",{for:"name",class:"required"},"Name",-1)),d(s("input",{type:"text",name:"name",id:"name",class:"form-input","onUpdate:modelValue":e[0]||(e[0]=r=>o(a).form.name=r),disabled:o(a).loading},null,8,k),[[v,o(a).form.name]]),u(l,{errors:o(a).errors,field:"name"},null,8,["errors"])]),s("div",I,[e[4]||(e[4]=s("label",{for:"email",class:"required"},"Email",-1)),d(s("input",{type:"email",name:"email",id:"email",class:"form-input","onUpdate:modelValue":e[1]||(e[1]=r=>o(a).form.email=r),disabled:o(a).loading},null,8,M),[[v,o(a).form.email]]),u(l,{errors:o(a).errors,field:"email"},null,8,["errors"])]),e[7]||(e[7]=s("div",{class:"form-separator"},null,-1)),s("button",{type:"submit",class:"btn btn-primary",disabled:o(a).loading},[d(u(m,{class:"spinner"},null,512),[[c,o(a).loading]]),e[5]||(e[5]=E(" Update profile "))],8,h)])],32)}}},F=w(q,[["__scopeId","data-v-9ef84a26"]]);export{F as default};
