import{d as V,a as z,_ as x,o as w,c as i,b as s,w as p,e as d,x as g,f as r,F as v,p as b,g as k,h as C,n as y,i as P,j as f,k as a,y as B,t as c}from"./index-ZrjpF2re.js";import{u as F}from"./vehicle-CiGLYi95.js";import{u as N}from"./parking-Ecyc7PMg.js";const U=V("zone",()=>{const _=z([]);function l(){return window.axios.get("zones").then(u=>_.value=u.data.data)}return{getZones:l,zones:_}}),Z={class:"parking-container"},E={class:"form-group"},I=["disabled"],L=["value"],O={key:0},q={class:"form-group"},D=["disabled"],M=["value"],R={class:"button-group"},j=["disabled"],T=["onClick","disabled"],A={__name:"OrderParking",setup(_){const l=F(),u=U(),o=N();return l.getVehicles().then(n=>{n.length>0&&(o.form.vehicle_id=n[0].id)}),u.getZones().then(n=>{n.length>0&&(o.form.zone_id=n[0].id)}),w(o.resetForm),(n,t)=>{const m=f("ValidationError"),h=f("IconSpinner"),S=f("RouterLink");return a(),i("form",{onSubmit:t[2]||(t[2]=P((...e)=>r(o).startParking&&r(o).startParking(...e),["prevent"])),novalidate:""},[s("div",Z,[t[6]||(t[6]=s("h1",{class:"title"},"Order parking",-1)),s("div",E,[t[3]||(t[3]=s("label",{for:"vehicle_id",class:"required"},"Vehicle",-1)),p(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>r(o).form.vehicle_id=e),name:"vehicle_id",id:"vehicle_id",class:"form-select",disabled:r(o).loading},[(a(!0),i(v,null,b(r(l).vehicles,e=>(a(),i("option",{value:e.id,key:e.id},[k(c(e.plate_number.toUpperCase())+" ",1),e.description?(a(),i("span",O,"("+c(e.description)+")",1)):B("",!0)],8,L))),128))],8,I),[[g,r(o).form.vehicle_id]]),d(m,{errors:r(o).errors,field:"vehicle_id"},null,8,["errors"])]),s("div",q,[t[4]||(t[4]=s("label",{for:"zone_id",class:"required"},"Zone",-1)),p(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r(o).form.zone_id=e),name:"zone_id",id:"zone_id",class:"form-select",disabled:r(o).loading},[(a(!0),i(v,null,b(r(u).zones,e=>(a(),i("option",{value:e.id,key:e.id},c(e.name)+" ("+c((e.price_per_hour/100).toFixed(2))+" â‚¬/h) ",9,M))),128))],8,D),[[g,r(o).form.zone_id]]),d(m,{errors:r(o).errors,field:"zone_id"},null,8,["errors"]),d(m,{errors:r(o).errors,field:"general"},null,8,["errors"])]),t[7]||(t[7]=s("div",{class:"divider"},null,-1)),s("div",R,[s("button",{type:"submit",class:"submit-btn",disabled:r(o).loading},[p(d(h,{class:"spinner"},null,512),[[C,r(o).loading]]),t[5]||(t[5]=k(" Start parking "))],8,j),d(S,{to:{name:"parkings.active"}},{default:y(({navigate:e})=>[s("button",{onClick:e,disabled:r(o).loading,class:"cancel-btn"}," Cancel ",8,T)]),_:1})])])],32)}}},K=x(A,[["__scopeId","data-v-766c940e"]]);export{K as default};
