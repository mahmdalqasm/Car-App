import{d as c,u as b,r as u,a as v,_ as w,o as _,c as g,b as o,w as l,e as d,v as p,f as r,l as x,g as V,h as S,i as h,j as f,k}from"./index-ZrjpF2re.js";const y=c("login",()=>{const m=b(),s=u({}),t=v(!1),e=u({email:"",password:"",remember:!1});function n(){e.email="",e.password="",e.remember=!1,s.value={}}async function i(){if(!t.value)return t.value=!0,s.value={},window.axios.post("auth/login",e).then(a=>{m.login(a.data.access_token)}).catch(a=>{a.response.status===422&&(s.value=a.response.data.errors)}).finally(()=>{e.password="",t.value=!1})}return{form:e,errors:s,loading:t,resetForm:n,handleSubmit:i}}),L={class:"form-wrapper"},q={class:"form-group"},B=["disabled"],E={class:"form-group"},U=["disabled"],I={class:"form-remember"},M={class:"remember-label"},N=["disabled"],C={class:"form-actions"},F=["disabled"],T={__name:"LoginView",setup(m){const s=y();return _(s.resetForm),(t,e)=>{const n=f("ValidationError"),i=f("IconSpinner");return k(),g("form",{onSubmit:e[3]||(e[3]=h((...a)=>r(s).handleSubmit&&r(s).handleSubmit(...a),["prevent"])),novalidate:"",class:"form-container"},[o("div",L,[e[8]||(e[8]=o("h1",{class:"form-title"},"Login",-1)),o("div",q,[e[4]||(e[4]=o("label",{for:"email",class:"required"},"Email",-1)),l(o("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r(s).form.email=a),id:"email",name:"email",type:"text",class:"form-input",autofocus:"",autocomplete:"email",required:"",disabled:r(s).loading},null,8,B),[[p,r(s).form.email]]),d(n,{errors:r(s).errors,field:"email"},null,8,["errors"])]),o("div",E,[e[5]||(e[5]=o("label",{for:"password",class:"required"},"Password",-1)),l(o("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r(s).form.password=a),id:"password",name:"password",type:"password",class:"form-password",autocomplete:"current-password",required:"",disabled:r(s).loading},null,8,U),[[p,r(s).form.password]]),d(n,{errors:r(s).errors,field:"password"},null,8,["errors"])]),o("div",I,[o("label",M,[l(o("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>r(s).form.remember=a),type:"checkbox",class:"remember-checkbox",disabled:r(s).loading},null,8,N),[[x,r(s).form.remember]]),e[6]||(e[6]=o("span",{class:"remember-text"},"Remember me",-1))])]),e[9]||(e[9]=o("div",{class:"form-separator"},null,-1)),o("div",C,[o("button",{type:"submit",class:"btn btn-primary",disabled:r(s).loading},[l(d(i,{class:"spinner"},null,512),[[S,r(s).loading]]),e[7]||(e[7]=V(" Login "))],8,F)])])],32)}}},A=w(T,[["__scopeId","data-v-03c38984"]]);export{A as default};
