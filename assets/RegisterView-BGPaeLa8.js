import{d as w,u as c,r as p,a as v,o as b,c as g,b as r,w as i,e as l,v as d,f as e,g as _,h as V,i as y,j as f,k as q}from"./index-ZrjpF2re.js";const S=w("register",()=>{const u=c(),s=p({}),t=v(!1),o=p({name:"",email:"",password:"",password_confirmation:""});function n(){o.name="",o.email="",o.password="",o.password_confirmation="";for(const a in s)delete s[a]}async function m(){if(!t.value)return t.value=!0,s.value={},window.axios.post("auth/register",o).then(a=>{u.login(a.data.access_token,"register")}).catch(a=>{a.response.status===422&&(s.value=a.response.data.errors)}).finally(()=>{o.password="",o.password_confirmation="",t.value=!1})}return{form:o,errors:s,loading:t,resetForm:n,handleSubmit:m}}),x={class:"form-container"},k={class:"form-group"},U=["disabled"],B={class:"form-group"},E=["disabled"],N={class:"form-group"},R=["disabled"],C={class:"form-group"},F=["disabled"],I={class:"form-group"},M={type:"submit",class:"btn-primary"},h={__name:"RegisterView",setup(u){const s=S();return b(s.resetForm),(t,o)=>{const n=f("ValidationError"),m=f("IconSpinner");return q(),g("form",{onSubmit:o[4]||(o[4]=y((...a)=>e(s).handleSubmit&&e(s).handleSubmit(...a),["prevent"])),novalidate:""},[r("div",x,[o[10]||(o[10]=r("h1",{class:"form-title"},"Register",-1)),r("div",k,[o[5]||(o[5]=r("label",{for:"name",class:"required"},"Name",-1)),i(r("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e(s).form.name=a),id:"name",name:"name",type:"text",class:"form-input",autocomplete:"name",required:"",disabled:e(s).loading},null,8,U),[[d,e(s).form.name]]),l(n,{errors:e(s).errors,field:"name"},null,8,["errors"])]),r("div",B,[o[6]||(o[6]=r("label",{for:"email",class:"required"},"Email",-1)),i(r("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>e(s).form.email=a),id:"email",name:"email",type:"email",class:"form-input",autocomplete:"email",required:"",disabled:e(s).loading},null,8,E),[[d,e(s).form.email]]),l(n,{errors:e(s).errors,field:"email"},null,8,["errors"])]),r("div",N,[o[7]||(o[7]=r("label",{for:"password",class:"required"},"Password",-1)),i(r("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>e(s).form.password=a),id:"password",name:"password",type:"password",class:"form-input",autocomplete:"new-password",required:"",disabled:e(s).loading},null,8,R),[[d,e(s).form.password]]),l(n,{errors:e(s).errors,field:"password"},null,8,["errors"])]),r("div",C,[o[8]||(o[8]=r("label",{for:"password_confirmation",class:"required"}," Confirm password ",-1)),i(r("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>e(s).form.password_confirmation=a),id:"password_confirmation",name:"password_confirmation",type:"password",class:"form-input",autocomplete:"new-password",required:"",disabled:e(s).loading},null,8,F),[[d,e(s).form.password_confirmation]])]),o[11]||(o[11]=r("div",{class:"divider"},null,-1)),r("div",I,[r("button",M,[i(l(m,null,null,512),[[V,e(s).loading]]),o[9]||(o[9]=_(" Register "))])])])],32)}}};export{h as default};
